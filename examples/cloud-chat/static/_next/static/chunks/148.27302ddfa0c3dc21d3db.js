(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{4148:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return O}});var o=e(5893),r=e(7294);const u=(0,r.createContext)(null),c=u.Provider;function i(){const n=(0,r.useContext)(u);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function a(){return i().map}var l=e(5243);function s(){return(s=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n}).apply(this,arguments)}function f({children:n,className:t,id:e,placeholder:o,style:u,whenCreated:i,...a}){const f=(0,r.useRef)(null),p=function(n,t){const[e,o]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(null!==n.current&&null===e){const e=new l.Map(n.current,t);null!=t.center&&null!=t.zoom?e.setView(t.center,t.zoom):null!=t.bounds&&e.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&e.whenReady(t.whenReady),o(e)}}),[n,e,t]),e}(f,a),d=(0,r.useRef)(!1);(0,r.useEffect)((()=>{null!=p&&!1===d.current&&null!=i&&(d.current=!0,i(p))}),[p,i]);const[v]=(0,r.useState)({className:t,id:e,style:u}),g=(0,r.useMemo)((()=>p?{__version:1,map:p}:null),[p]),h=g?r.createElement(c,{value:g},n):o??null;return r.createElement("div",s({},v,{ref:f}),h)}var p=e(3935);function d(n,t){return null==t?function(t,e){return(0,r.useRef)(n(t,e))}:function(e,o){const u=(0,r.useRef)(n(e,o)),c=(0,r.useRef)(e),{instance:i}=u.current;return(0,r.useEffect)((function(){c.current!==e&&(t(i,e,c.current),c.current=e)}),[i,e,o]),u}}function v(n,t){const e=(0,r.useRef)(t);(0,r.useEffect)((function(){t!==e.current&&null!=n.attributionControl&&(null!=e.current&&n.attributionControl.removeAttribution(e.current),null!=t&&n.attributionControl.addAttribution(t)),e.current=t}),[n,t])}function g(n,t){const e=(0,r.useRef)();(0,r.useEffect)((function(){return null!=t&&n.instance.on(t),e.current=t,function(){null!=e.current&&n.instance.off(e.current),e.current=null}}),[n,t])}function h(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function m(n){return function(t){const e=i(),o=n(h(t,e),e);return v(e.map,t.attribution),g(o.current,t.eventHandlers),function(n,t){(0,r.useEffect)((function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var e;null==(e=t.layersControl)||e.removeLayer(n.instance),t.map.removeLayer(n.instance)}}),[t,n])}(o.current,e),o}}const y=function(n){function t(t,e){const{instance:o}=n(t).current;return(0,r.useImperativeHandle)(e,(()=>o)),null}return(0,r.forwardRef)(t)}(m(d((function({url:n,...t},e){return{instance:new l.TileLayer(n,h(t,e)),context:e}}),(function(n,t,e){const{opacity:o,zIndex:r}=t;null!=o&&o!==e.opacity&&n.setOpacity(o),null!=r&&r!==e.zIndex&&n.setZIndex(r)}))));const b=function(n,t){return function(n){function t(t,e){const{instance:o,context:u}=n(t).current;return(0,r.useImperativeHandle)(e,(()=>o)),null==t.children?null:r.createElement(c,{value:u},t.children)}return(0,r.forwardRef)(t)}(m(d(n,t)))}((function({position:n,...t},e){const o=new l.Marker(n,t);return{instance:o,context:{...e,overlayContainer:o}}}),(function(n,t,e){t.position!==e.position&&n.setLatLng(t.position),null!=t.icon&&t.icon!==e.icon&&n.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==e.zIndexOffset&&n.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==e.opacity&&n.setOpacity(t.opacity),null!=n.dragging&&t.draggable!==e.draggable&&(!0===t.draggable?n.dragging.enable():n.dragging.disable())})),x=function(n,t){return function(n){function t(t,e){const[o,u]=(0,r.useState)(!1),{instance:c}=n(t,u).current;(0,r.useImperativeHandle)(e,(()=>c)),(0,r.useEffect)((function(){o&&c.update()}),[c,o,t.children]);const i=c._contentNode;return i?(0,p.createPortal)(t.children,i):null}return(0,r.forwardRef)(t)}(function(n,t){return function(e,o){const r=i(),u=n(h(e,r),r);return v(r.map,e.attribution),g(u.current,e.eventHandlers),t(u.current,r,e,o),u}}(d(n),t))}((function(n,t){return{instance:new l.Popup(n,t.overlayContainer),context:t}}),(function(n,t,e,o){const{onClose:u,onOpen:c,position:i}=e;(0,r.useEffect)((function(){const{instance:e}=n;function r(n){n.popup===e&&(e.update(),o(!0),null==c||c())}function a(n){n.popup===e&&(o(!1),null==u||u())}return t.map.on({popupopen:r,popupclose:a}),null==t.overlayContainer?(null!=i&&e.setLatLng(i),e.openOn(t.map)):t.overlayContainer.bindPopup(e),function(){var n;t.map.off({popupopen:r,popupclose:a}),null==(n=t.overlayContainer)||n.unbindPopup(),t.map.removeLayer(e)}}),[n,t,o,u,c,i])}));var C=function(){};function w(n){var t=n.getSouthWest(),e=n.getNorthEast();return{sw:{lat:t.lat,lon:t.lng},ne:{lat:e.lat,lon:e.lng}}}function E(n){var t=n.onBoundsChange,e=void 0===t?C:t,o=function(n){const t=a();return(0,r.useEffect)((function(){return t.on(n),function(){t.off(n)}}),[t,n]),t}({move:function(){e(w(o.getBounds()))},zoom:function(){e(w(o.getBounds()))}});return(0,r.useEffect)((function(){e(w(o.getBounds()))}),[o,e]),null}function O(n){var t=n.height,e=void 0===t?200:t,r=n.zoom,u=void 0===r?13:r,c=n.markers,i=void 0===c?[]:c,a=n.lat,l=void 0===a?0:a,s=n.lon,p=void 0===s?0:s,d=n.onBoundsChange,v=void 0===d?C:d;return(0,o.jsxs)(f,{style:{height:e},center:[l,p],zoom:u,scrollWheelZoom:!1,children:[(0,o.jsx)(y,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map((function(n){var t=n.key,e=n.lat,r=n.lon,u=n.text;return(0,o.jsx)(b,{position:[e,r],children:(0,o.jsx)(x,{children:u})},t)})),(0,o.jsx)(E,{onBoundsChange:v})]})}}}]);