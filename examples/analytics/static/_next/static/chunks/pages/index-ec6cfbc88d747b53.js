(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(1623)}])},1623:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return g}});var o=e(5893),r=e(9008),i=e(9813),a=e.n(i);function c(n){var t=n.children;return(0,o.jsxs)("div",{className:a().root,children:[(0,o.jsxs)(r.default,{children:[(0,o.jsx)("title",{children:"Cloud Analytics"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)("main",{className:a().main,children:t})]})}var s=e(7294),u=e(8100),l=e(7147),d=e(5925),h=e(390),v={getValue:function(n){return new Date(n.date)}},f=[{curve:d.Z,getValue:function(n){return n.value}}];function x(n){var t=n.data;return(0,o.jsx)(h.k,{options:{data:t,primaryAxis:v,secondaryAxes:f}})}var _=e(5410),j=function(n){return fetch(n).then((function(n){return n.json()}))};function m(n){var t,e=n.value,r=n.onChange,i=(0,u.ZP)("".concat(l.Y,"/api/hosts"),j).data;return(0,o.jsxs)(_.Z,{children:[(0,o.jsx)(_.Z.Toggle,{variant:"success",id:"dropdown-basic",children:e.hostname||"Select host..."}),(0,o.jsx)(_.Z.Menu,{children:null===i||void 0===i||null===(t=i.items)||void 0===t?void 0:t.map((function(n){return(0,o.jsx)(_.Z.Item,{onClick:function(){return r(n)},children:n.hostname},n.key)}))})]})}var k=e(2086),y=e(5005);function p(n){var t=n.value,e=n.onChange,r=void 0===e?function(n){}:e;return(0,o.jsxs)(k.Z,{children:[(0,o.jsx)(y.Z,{onClick:function(){return r("h")},active:"h"===t,children:"Hourly"}),(0,o.jsx)(y.Z,{onClick:function(){return r("d")},active:"d"===t,children:"Daily"}),(0,o.jsx)(y.Z,{onClick:function(){return r("m")},active:"m"===t,children:"Monthly"}),(0,o.jsx)(y.Z,{onClick:function(){return r("y")},active:"y"===t,children:"Yearly"})]})}var C=e(214),N=e.n(C),Z=function(n){return fetch(n).then((function(n){return n.json()}))};function w(){var n,t,e=(0,s.useState)("h"),r=e[0],i=e[1],a=(0,s.useState)({key:""}),c=a[0],d=a[1],h=(0,u.ZP)("".concat(l.Y,"/api/data?period=").concat(r,"&host=").concat(c.key),Z).data;return(0,o.jsxs)("div",{className:N().root,children:[(0,o.jsxs)("div",{className:N().toolbar,children:[(0,o.jsx)(m,{value:c,onChange:function(n){console.log("value:",n),d(n||{key:""})}}),(0,o.jsx)("div",{style:{flexGrow:1}}),(0,o.jsx)(p,{value:r,onChange:function(n){return i(n)}})]}),(null===h||void 0===h?void 0:h.series)&&(0,o.jsxs)("p",{className:N().total,children:["Total visits: ",h.total]}),(0,o.jsx)("div",{className:N().chart,children:(null===h||void 0===h||null===(n=h.series)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.data)&&(0,o.jsx)(x,{data:h.series})})]})}function g(){return(0,o.jsx)(c,{children:(0,o.jsx)(w,{})})}},214:function(n){n.exports={root:"Home_root__wfVGa",chart:"Home_chart__syino",total:"Home_total__212AA",toolbar:"Home_toolbar__JY_RL"}},9813:function(n){n.exports={root:"Main_root__eP9rN"}}},function(n){n.O(0,[990,774,888,179],(function(){return t=5301,n(n.s=t);var t}));var t=n.O();_N_E=t}]);